"use strict";(self["webpackChunkdev_faker"]=self["webpackChunkdev_faker"]||[]).push([[315],{7315:function(e,a,o){o.r(a),o.d(a,{default:function(){return K}});var t=o(3396),n=o(7139);const l={class:"mt-10"},c={class:"top"},s={class:"proj_name"},r=(0,t._)("tr",null,[(0,t._)("th",null,"Data Name"),(0,t._)("th",null,"Data Path"),(0,t._)("th",null,"수정")],-1),i={key:0,class:"loading-container"},d={class:"loading"};function p(e,a,o,p,u,m){const j=(0,t.up)("font-awesome-icon"),v=(0,t.up)("ProjectInfoModal"),g=(0,t.up)("FadeLoader");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",l,[(0,t._)("div",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(p.projects,(e=>((0,t.wg)(),(0,t.iD)("table",{key:e.projectId,class:"mt-5"},[(0,t._)("div",c,[(0,t._)("span",s,(0,n.zw)(e.projectName),1),(0,t._)("button",null,[(0,t.Wm)(j,{icon:"file-lines",class:"info_btn",onClick:a=>p.showProjectInfo(e.projectNamespace)},null,8,["onClick"])])]),r,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.data,(e=>((0,t.wg)(),(0,t.iD)("tr",{key:e.dataId},[(0,t._)("td",null,[(0,t._)("span",null,(0,n.zw)(e.dataName),1)]),(0,t._)("td",null,[(0,t._)("span",null,(0,n.zw)(e.dataPath),1)]),(0,t._)("td",null,[(0,t.Wm)(j,{icon:"pen",class:"title_icon"})])])))),128))])))),128))])]),(0,t.Wm)(v,{ref:"project_info_modal"},null,512),p.isLoading?((0,t.wg)(),(0,t.iD)("div",i,[(0,t._)("div",d,[(0,t.Wm)(g)])])):(0,t.kq)("",!0)],64)}var u=o(4870),m=o(6265),j=o.n(m),v=o(65),g=o(3435),_=o(1334),f=o(6422),w=o(8083);const h=e=>((0,t.dD)("data-v-51041106"),e=e(),(0,t.Cn)(),e),k={class:"content-container"},N={class:"title"},L={class:"mx-3"},C={class:"mx-3"},I=h((()=>(0,t._)("span",{class:"ml-2"},"프로젝트 이름",-1))),W={class:"mx-1"},b={class:"mx-3"},y={class:"mx-3"},P=h((()=>(0,t._)("span",{class:"ml-2"},"프로젝트 네임스페이스",-1))),H={class:"mx-1"},D=(0,t.Uk)(" 수정 "),A=(0,t.Uk)(" 취소 "),F=h((()=>(0,t._)("div",{class:"buttons-container"},null,-1))),T={key:0,class:"loading-container"},M={class:"loading"};function Z(e,a,o,l,c,s){const r=(0,t.up)("font-awesome-icon"),i=(0,t.up)("FadeLoader"),d=(0,t.up)("CommonModal");return(0,t.wg)(),(0,t.j4)(d,{ref:"commonModal"},{default:(0,t.w5)((()=>[(0,t._)("div",k,[(0,t._)("span",N,(0,n.zw)(l.namespace)+" 프로젝트",1)]),(0,t.Wm)(f.O,null,{default:(0,t.w5)((()=>[(0,t._)("div",L,[(0,t._)("div",C,[(0,t.Wm)(r,{icon:"address-card"}),I]),(0,t._)("div",W,[(0,t._)("div",null,[(0,t.Wm)(w.h,{placeholder:"프로젝트 이름을 입력해 주세요.",modelValue:l.projectInfo.projectName,"onUpdate:modelValue":a[0]||(a[0]=e=>l.projectInfo.projectName=e),required:""},null,8,["modelValue"])])])]),(0,t._)("div",b,[(0,t._)("div",y,[(0,t.Wm)(r,{icon:"signature"}),P]),(0,t._)("div",H,[(0,t.Wm)(w.h,{placeholder:"네임스페이스를 입력해 주세요.",modelValue:l.projectInfo.projectNamespace,"onUpdate:modelValue":a[1]||(a[1]=e=>l.projectInfo.projectNamespace=e),required:""},null,8,["modelValue"])])]),(0,t.Wm)(_.h,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g.T,{color:"#2c4f91",dark:"",large:"",block:"",onClick:l.modify},{default:(0,t.w5)((()=>[D])),_:1},8,["onClick"])])),_:1}),(0,t.Wm)(_.h,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g.T,{color:"#2c4f91",dark:"",large:"",block:"",onClick:l.cancel},{default:(0,t.w5)((()=>[A])),_:1},8,["onClick"])])),_:1})])),_:1}),F,l.isLoading?((0,t.wg)(),(0,t.iD)("div",T,[(0,t._)("div",M,[(0,t.Wm)(i)])])):(0,t.kq)("",!0)])),_:1},512)}var x=o(6387),V=o(6005),q={name:"ProjectInfoModal",components:{CommonModal:x.Z,FadeLoader:V.Z},props:{},setup(){const e=(0,v.oR)(),a=(0,u.iH)(null),o=(0,u.iH)(null);let n=(0,u.iH)(""),l=(0,u.iH)(""),c=(0,t.Fl)((()=>e.getters.getProjectNamespace)),s=(0,u.iH)(null),r=(0,t.Fl)((()=>e.getters.getLoading));(0,t.bv)((()=>{i()}));const i=async()=>{e.commit("startLoading"),await j().get("https://dev-faker-be.herokuapp.com/project/"+c.value,{headers:{accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authentication:"Bearer "+e.getters.getToken}}).then((e=>{200===e.status&&(s.value=e.data,n.value=s.value.projectName,l.value=s.value.projectNamespace)})),e.commit("stopLoading")},d=()=>(a.value.open(),new Promise((e=>{i(),o.value=e}))),p=async()=>{e.commit("startLoading"),await j().put("https://dev-faker-be.herokuapp.com/project",{projectName:s.value.projectName,projectNamespace:s.value.projectNamespace,projectId:s.value.projectId},{headers:{accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authentication:"Bearer "+e.getters.getToken}}).then((t=>{if(200===t.status){let a=t.data;console.log(a),e.commit("getProjectNamespace",s.value.projectName)}a.value.close(),o.value(!0)})),e.commit("stopLoading")},m=()=>{a.value.close(),o.value(!1)};return{commonModal:a,FadeLoader:V.Z,show:d,modify:p,cancel:m,isLoading:r,projectName:n,projectNamespace:l,projectInfo:s,namespace:c}}},z=o(89);const O=(0,z.Z)(q,[["render",Z],["__scopeId","data-v-51041106"]]);var U=O,B={name:"ProjectList",components:{FadeLoader:V.Z,ProjectInfoModal:U},setup(){const e=(0,v.oR)();let a=(0,u.iH)([]);const o=(0,u.iH)(null);let n=(0,t.Fl)((()=>e.getters.getLoading)),l=(0,u.iH)("");const c=async a=>{e.commit("setProjectNamespace",a);const t=await o.value.show();t&&(console.log("project 수정 완료"),s())},s=async()=>{e.commit("startLoading"),await j().get("https://dev-faker-be.herokuapp.com/projects",{headers:{accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authentication:"Bearer "+e.getters.getToken}}).then((e=>{200===e.status&&(a.value=e.data)})),e.commit("stopLoading")};return(0,t.bv)((()=>{s()})),{projects:a,FadeLoader:V.Z,isLoading:n,showProjectInfo:c,project_info_modal:o,namespace:l}}};const Y=(0,z.Z)(B,[["render",p]]);var K=Y}}]);
//# sourceMappingURL=315.7d9a1ef8.js.map