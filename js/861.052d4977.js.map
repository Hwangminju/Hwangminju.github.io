{"version":3,"file":"js/861.052d4977.js","mappings":"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","sources":["webpack://dev-faker/./src/components/user/RegisterModal.vue","webpack://dev-faker/./src/components/user/RegisterModal.vue?1181"],"sourcesContent":["<template>\n    <CommonModal ref=\"commonModal\">\n        <div class=\"content-container\">\n            <span class=\"title\">REGISTER</span>\n        </div>\n        <v-form class=\"mt-3\">\n            <div class=\"mx-3\">\n                <div class=\"mx-3\">\n                    <font-awesome-icon icon=\"user\" />\n                    <span class=\"ml-2\">ID</span>\n                </div>\n                <div class=\"mx-1\">\n                    <v-text-field\n                        placeholder=\"아이디\"\n                        v-model=\"userId\"\n                        required\n                    ></v-text-field>\n                </div>\n            </div>\n            <div class=\"mx-3\">\n                <div class=\"mx-3\">\n                    <font-awesome-icon icon=\"key\" />\n                    <span class=\"ml-2\">Password</span>\n                </div>\n                <div class=\"mx-1\">\n                    <v-text-field\n                        placeholder=\"비밀번호\"\n                        type=\"password\"\n                        v-model=\"userPassword\"\n                        required\n                    ></v-text-field>\n                </div>\n            </div>\n\n            <div v-if=\"isDuplicatedUser\" class=\"duplicated-user\">\n                <p>중복된 아이디입니다.<br />다른 아이디로 시도해 주세요.</p>\n            </div>\n\n            <v-card-actions>\n                <v-btn\n                    color=\"#2c4f91\"\n                    dark\n                    large\n                    block\n                    @click=\"submit\"\n                >\n                OK\n                </v-btn>\n            </v-card-actions>\n            <v-card-actions>\n                <v-btn\n                    color=\"#2c4f91\"\n                    dark\n                    large\n                    block\n                    @click=\"cancel\"\n                >\n                Cancel\n                </v-btn>\n            </v-card-actions>\n        </v-form>\n    </CommonModal>\n</template>\n\n<script>\nimport CommonModal from \"@/components/user/CommonModal.vue\";\nimport { ref } from \"vue\";\n// import { useStore } from \"vuex\";\nimport axios from \"axios\";\n\nexport default {\n    name: \"RegisterModal\",\n    components: {\n        CommonModal,\n    },\n    // 렌더링할 텍스트를 가져옵니다.\n    props: {\n        content: Array,\n    },\n    setup() {\n        // const store = useStore();\n\n        // 자식 컴포넌트(CommonModal)를 핸들링하기 위한 ref\n        const commonModal = ref(null);\n        // Promise 객체를 핸들링하기 위한 ref\n        const resolvePromise = ref(null);\n        let userId = ref(\"\");\n        let userPassword = ref(\"\");\n\n        // 중복된 아이디 여부 체크\n        let isDuplicatedUser = ref(false);\n\n        const show = () => {\n            // commonModal을 직접 컨트롤합니다.\n            commonModal.value.open();\n            // Promise 객체를 사용하여, 현재 모달에서 확인, 취소의\n            // 응답이 돌아가기 전까지 작업을 기다리게 할 수 있습니다.\n            return new Promise((resolve) => {\n                // resolve 함수를 담아 외부에서 사용합니다.\n                resolvePromise.value = resolve;\n            });\n        };\n\n        const submit = async () => {\n            // 사용자 로그인 정보 담아서 부모 컴포넌트로 전달\n            // json-server --watch mock.json\n            await axios.put(\"https://dev-faker-be.herokuapp.com/users\", {\n                user_id: userId.value,\n                user_pw: userPassword.value\n            }, {\n                headers: {\n                    \"accept\": 'application/json',\n                    \"Content-Type\": 'application/json',\n                    \"Access-Control-Allow-Origin\" : '*'\n                }\n            })\n            .then(res => {\n                if (res.status === 200) {\n                    console.log(\"register success\");\n                    // 로그인 성공 시 아이디 중복 여부 false로 초기화\n                    isDuplicatedUser.value = false;\n\n                    // 입력창 초기화\n                    userId.value = \"\";\n                    userPassword.value = \"\";\n                    // 아이디 중복 메세지 초기화\n                    isDuplicatedUser.value = false;\n                }\n\n                commonModal.value.close();\n                resolvePromise.value(true);\n            })\n            .catch(err => {\n                if (err.response.data.result === false) {\n                    // 입력창 초기화\n                    userId.value = \"\";\n                    userPassword.value = \"\";\n                    \n                    isDuplicatedUser.value = true;\n                }\n            });\n        };\n\n        const cancel = () => {\n            // 입력창 초기화\n            userId.value = \"\";\n            userPassword.value = \"\";\n            // 아이디 중복 메세지 초기화\n            isDuplicatedUser.value = false;\n\n            commonModal.value.close();\n            resolvePromise.value(false);\n        };\n\n        return { \n            commonModal, \n            show, \n            submit, \n            cancel,\n            userId,\n            userPassword,\n            isDuplicatedUser\n        };\n    },\n};\n</script>\n\n<style scoped>\n.content-container {\n    margin-bottom: 30px;\n}\n.title {\n    font-size: 25px;\n}\n.duplicated-user {\n    font-size: 0.875rem;\n    color: #9e241b;\n    padding: 0.75rem;\n    text-align: center;\n}\n</style>","import { render } from \"./RegisterModal.vue?vue&type=template&id=72a13dd7&scoped=true\"\nimport script from \"./RegisterModal.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterModal.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterModal.vue?vue&type=style&index=0&id=72a13dd7&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/hwangminju/Documents/Dev-Faker-Caravan/faker-fe/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-72a13dd7\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_hoisted_11","_createBlock","_component_CommonModal","ref","_hoisted_1","_createVNode","_component_v_form","_component_font_awesome_icon","icon","_hoisted_4","_component_v_text_field","placeholder","$setup","$event","required","_hoisted_8","type","_createElementBlock","_hoisted_12","_component_v_card_actions","_component_v_btn","color","dark","large","block","onClick","name","components","CommonModal","props","content","Array","setup","commonModal","resolvePromise","userId","userPassword","isDuplicatedUser","show","value","open","Promise","resolve","submit","async","axios","user_id","user_pw","headers","then","res","status","console","log","close","catch","err","response","data","result","cancel","__exports__","render"],"sourceRoot":""}